<!-- _includes/header.html -->
<nav id="topbar" class="topbar d-flex align-items-center">
  <div class="container d-flex justify-content-between align-items-center py-2">
    <div class="topbar-left d-flex align-items-center">
      <!-- Logo as text with heavenly background -->
      <div class="logo-text p-2 rounded" aria-label="{{ site.title }}">
        <a href="{{ '/' | relative_url }}" class="logo-link text-decoration-none">
          <span class="logo-name">{{ site.title }}</span>
        </a>
      </div>
    </div>

    <div class="topbar-right d-flex align-items-center">
      <!-- Email + icon (hide text on mobile) -->
      <div class="top-email d-none d-md-flex align-items-center me-3">
        <i class="bi bi-envelope-fill me-1" aria-hidden="true"></i>
        <a href="mailto:{{ site.email }}" class="text-decoration-none">{{ site.email }}</a>
      </div>
      <div class="top-email d-flex d-md-none align-items-center me-3">
        <a href="mailto:{{ site.email }}" aria-label="Email" class="text-decoration-none">
          <i class="bi bi-envelope-fill"></i>
        </a>
      </div>

      <!-- Social icons -->
      <div class="social-icons d-flex">
        <a href="{{ site.social_links.linkedin }}" class="me-2 social" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
        <a href="{{ site.social_links.instagram }}" class="me-2 social" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
        <a href="{{ site.social_links.facebook }}" class="social" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
      </div>
    </div>
  </div>
</nav>

<!-- Main navbar -->
<nav id="mainNav" class="navbar navbar-expand-lg navbar-sticky">
  <div class="container d-flex align-items-center">
    <!-- Mobile: toggler left -->
    <button class="navbar-toggler me-2 d-lg-none" type="button" id="mobileMenuToggler">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Desktop nav menu: left-aligned -->
    <div class="d-none d-lg-flex">
      <ul class="navbar-nav align-items-center">
        {% for item in site.data.navigation %}
        <li class="nav-item px-2">
          <a class="nav-link {% if page.url == item.url or page.url == item.url | append: "/" %}current{% endif %}" href="{{ item.url | relative_url }}">
            {{ item.title }}
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>

    <!-- Right: call box -->
    <div class="ms-auto">
      <div class="d-none d-lg-inline">
        <a href="tel:+1234567890" class="call-box d-inline-flex align-items-center px-3 py-2 rounded">
          <span class="call-number">+1 (234) 567-890</span>
        </a>
      </div>
      <div class="d-lg-none">
        <a href="tel:+1234567890" class="btn btn-sm btn-primary call-btn">Call Us</a>
      </div>
    </div>
  </div>

<!-- Mobile overlay menu -->
<div id="mobileNavOverlay" class="mobile-nav-overlay">
  <ul class="navbar-nav flex-column text-start py-4 px-3">
    {% for item in site.data.navigation %}
    <li class="nav-item">
      <a class="nav-link {% if page.url == item.url or page.url == item.url | append: '/' or page.url == item.url | remove: '/' %}current{% endif %}" href="{{ item.url | relative_url }}">
        {{ item.title }}
      </a>
    </li>
    {% endfor %}

    <!-- Close button as part of menu -->
    <li class="nav-item text-center mt-4">
      <button class="close-btn" aria-label="Close menu">&times; Close</button>
    </li>
  </ul>
</div>


<!-- Hero -->
{% if page.hero_image %}
<header class="hero text-center text-light" 
  style="background-image: url('{{ page.hero_image | relative_url }}');
         background-size: cover;
         background-position: center;
         height: {% if page.url == '/' %}100vh{% else %}80vh{% endif %};">
  <div class="d-flex flex-column justify-content-center align-items-center h-100 px-3">
    <div class="container hero-text-bg">
      <h1 class="display-4 fw-bold">{{ page.title }}</h1>
      {% if page.url == '/' %}
        <p class="lead mb-4">{{ page.subtitle }}</p>
        <button class="btn btn-lg btn-primary" data-bs-toggle="modal" data-bs-target="#contactModal">Contact Us</button>
      {% endif %}
    </div>
  </div>
</header>
{% endif %}
